{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block title %}Login{% endblock %}

{% block content %}
<h2>Login</h2>
<form method="post">
    {% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-primary">Login</button>
</form>

<p><a href="{% url 'password_reset' %}">Forgot Password<i class="fa-solid fa-circle-question"></i></a></p>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('loginForm');
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            
            Swal.fire({
            icon: 'success',
            title: 'Login Successful',
            text: 'You have logged in successfully!',
            confirmButtonText: 'OK'
        }).then((result) => {
            if (result.isConfirmed) {
                form.submit();
            }
        });
    });
});
</script>
{% endblock %}